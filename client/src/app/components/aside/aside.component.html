<div class="aside" >
    <div class="asideHeader">
        <span class="welcomeUser">
            {{StateService.username}} שלום

        </span>

        <span class="links" *ngIf="this.StateService.isUserLoggedIn == 'false'">
            <a (click)="goLogin()">התחברות</a>
            <a (click)="goRegister()"> הרשמה</a>
        </span> <br>



        <span class="links" *ngIf="this.StateService.isUserLoggedIn == 'true'">
            <button (click)="this.StateService.onLogout()" class="logoutBtn"> התנתק </button> <br>
        </span>
    </div>

    <div class="aside-body" *ngIf="this.StateService.isUserLoggedIn == 'true' && StateService.userType == 'CUSTOMER'">
        <div *ngFor="let item of StateService.items" class="item-card-aside">
            <button (click)="removeItemFromCart(item.productId)" class="removeItemBtn"> <svg
                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                    class="bi bi-trash-fill" viewBox="0 0 16 16">
                    <path
                        d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z" />
                </svg> </button>
            <p> {{item.productName}} </p>
            <img src={{item.image}} alt={{item.name}} style="max-width: 100px;">
            <p> {{item.price}} <img src="https://image.flaticon.com/icons/png/512/38/38261.png"
                    alt="shekel" width="15px"> </p>
            <p> יחידות נבחרו {{item.quantity}} </p>

        </div>

        <span *ngIf="0 > StateService.item && StateService.userType == 'CUSTOMER'"> Total : {{StateService.sum}}
             <img src="https://image.flaticon.com/icons/png/512/38/38261.png"
                    alt="shekel" width="15px"/> </span> <br>
        <span *ngIf="StateService.items.length == 0">
            <h3>העגלה שלך ריקה</h3>
            <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="currentColor" class="bi bi-cart-dash"
                viewBox="0 0 16 16">
                <path d="M6.5 7a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4z" />
                <path
                    d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" />
            </svg>
        </span> <br>
        <button *ngIf="StateService.items.length != 0" (click)="onOrder()" class="orderBtn"> בצע קניה </button> <br>
        <button *ngIf="this.StateService.isUserLoggedIn == 'true' && StateService.items.length != 0"
            (click)="emptyUserCart()" class="emptyUserCartBtn"> רוקן את העגלה שלי </button>

    </div>


</div>

<div class="adminEdit" *ngIf="StateService.userType == 'ADMIN' && StateService.isProductClicked">

    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-plus-circle-dotted" (click)="onAddProduct()"
        viewBox="0 0 16 16" *ngIf="action == 'edit product'">
        <path
            d="M8 0c-.176 0-.35.006-.523.017l.064.998a7.117 7.117 0 0 1 .918 0l.064-.998A8.113 8.113 0 0 0 8 0zM6.44.152c-.346.069-.684.16-1.012.27l.321.948c.287-.098.582-.177.884-.237L6.44.153zm4.132.271a7.946 7.946 0 0 0-1.011-.27l-.194.98c.302.06.597.14.884.237l.321-.947zm1.873.925a8 8 0 0 0-.906-.524l-.443.896c.275.136.54.29.793.459l.556-.831zM4.46.824c-.314.155-.616.33-.905.524l.556.83a7.07 7.07 0 0 1 .793-.458L4.46.824zM2.725 1.985c-.262.23-.51.478-.74.74l.752.66c.202-.23.418-.446.648-.648l-.66-.752zm11.29.74a8.058 8.058 0 0 0-.74-.74l-.66.752c.23.202.447.418.648.648l.752-.66zm1.161 1.735a7.98 7.98 0 0 0-.524-.905l-.83.556c.169.253.322.518.458.793l.896-.443zM1.348 3.555c-.194.289-.37.591-.524.906l.896.443c.136-.275.29-.54.459-.793l-.831-.556zM.423 5.428a7.945 7.945 0 0 0-.27 1.011l.98.194c.06-.302.14-.597.237-.884l-.947-.321zM15.848 6.44a7.943 7.943 0 0 0-.27-1.012l-.948.321c.098.287.177.582.237.884l.98-.194zM.017 7.477a8.113 8.113 0 0 0 0 1.046l.998-.064a7.117 7.117 0 0 1 0-.918l-.998-.064zM16 8a8.1 8.1 0 0 0-.017-.523l-.998.064a7.11 7.11 0 0 1 0 .918l.998.064A8.1 8.1 0 0 0 16 8zM.152 9.56c.069.346.16.684.27 1.012l.948-.321a6.944 6.944 0 0 1-.237-.884l-.98.194zm15.425 1.012c.112-.328.202-.666.27-1.011l-.98-.194c-.06.302-.14.597-.237.884l.947.321zM.824 11.54a8 8 0 0 0 .524.905l.83-.556a6.999 6.999 0 0 1-.458-.793l-.896.443zm13.828.905c.194-.289.37-.591.524-.906l-.896-.443c-.136.275-.29.54-.459.793l.831.556zm-12.667.83c.23.262.478.51.74.74l.66-.752a7.047 7.047 0 0 1-.648-.648l-.752.66zm11.29.74c.262-.23.51-.478.74-.74l-.752-.66c-.201.23-.418.447-.648.648l.66.752zm-1.735 1.161c.314-.155.616-.33.905-.524l-.556-.83a7.07 7.07 0 0 1-.793.458l.443.896zm-7.985-.524c.289.194.591.37.906.524l.443-.896a6.998 6.998 0 0 1-.793-.459l-.556.831zm1.873.925c.328.112.666.202 1.011.27l.194-.98a6.953 6.953 0 0 1-.884-.237l-.321.947zm4.132.271a7.944 7.944 0 0 0 1.012-.27l-.321-.948a6.954 6.954 0 0 1-.884.237l.194.98zm-2.083.135a8.1 8.1 0 0 0 1.046 0l-.064-.998a7.11 7.11 0 0 1-.918 0l-.064.998zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z" />
    </svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16"
    *ngIf="action == 'add product'" (click)="onEditProduct()">
        <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
        <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
      </svg>
    <br>
    <span *ngIf="action == 'edit product'">

    <h1> NAME :</h1>
    <br>
    <input type="text" [(ngModel)]="StateService.singleProduct.name"><br>
    <h1>PRICE : </h1>

    <input type="text" [(ngModel)]="StateService.singleProduct.price"> <br>
    <h1 (mouseenter)="isHovered = !isHovered"> ID : </h1>
    <p style="color: red;" *ngIf="isHovered" (mouseout)="isHovered = !isHovered"> לא ניתן לשנות מספר מזהה של מוצר </p>
    <input type="text" [(ngModel)]="StateService.singleProduct.id" disabled="true"><br>
    <h1> IMAGE : </h1>
    <img src={{StateService.singleProduct.image}} alt="product"
        style="max-width: 100px;">
    <input type="text" [(ngModel)]="StateService.singleProduct.image"><br>
</span>

<span *ngIf="action == 'add product'" class="add-product">
    <input type="text" [(ngModel)]="product.name" placeholder="שם המוצר החדש">
    <input type="text" [(ngModel)]="product.image" placeholder="כתובת תמונה למוצר החדש">
    <input type="number" [(ngModel)]="product.price" placeholder="מחיר רצוי למוצר החדש">

    <select class="selectCategories" [(ngModel)]="product.categoryId">
        <option value="all Products"> בחר קטגוריה לשייך למוצר זה </option>
        <option value="{{category.id}}" *ngFor="let category of StateService.categories">{{category.name}}</option>
    </select>
</span>

    <button (click)="onSaveProductDetails()" *ngIf="action == 'edit product'"> בצע שינויים עבור מוצר זה </button>
    <button *ngIf="action == 'add product'" (click)="onAddProductClicked()"> צור מוצר חדש </button>
    <br>
    <button (click)="onFullScreen()" *ngIf="action == 'edit product'"> עבור למסך מלא </button>
    <br>
    <button (click)="onCloseAdminSidePanel()"> סגור וחזור למסך הבית</button>
</div>